<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <script src="http://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
    <title>nUPath | Public Chat</title>
  </head>
  <body>
    <form action="">
      <input id="chat-message" type="test" name="message" value="">
      <button id="chat-submit">Send</button>
    </form>
    <ul id="chat-container">
    </ul>

    <script src="/socket.io/socket.io.js"></script>
    <script type="text/javascript">
      var socket = io('/chat');

      $('#chat-submit').on('click', function(e){
        e.preventDefault();
        socket.emit('new-chat', $('#chat-message').val());
        $('#chat-message').val('')
      })

      socket.on('broadcast-chat', function(message){
        $('#chat-container').append('<li>' + message + '</li>')
      })

    </script>
  </body>
</html>
